% Copyright 2007 by Till Tantau
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Public License.
%
% See the file doc/licenses/LICENSE for more details.

\ProvidesPackageRCS $Header: /Users/joseph/Documents/LaTeX/beamer/base/themes/theme/beamerthemeOmero.sty,v d02a7cf4d8ae 2010/06/17 09:11:41 rivanvx $

\mode<presentation>

\definecolor{omebgblue}{RGB}{206,213,217}

\setbeamertemplate{frametitle}[default][center]

% \setbeamertemplate{background}{
%     \tikz[overlay,remember picture] \node[opacity=0.17, at=(current page.north east), xshift=-3cm, yshift=-3cm] {
%         \includegraphics[width=\paperwidth]{OME_background}
%     };
% }

% Create an ome section page
\defbeamertemplate{section page}{ome}[1][]
{
    % {\usebeamerfont{section name}\usebeamercolor[fg]{section name}\sectionname~\insertsectionnumber}
    % \vskip1em\par
    \begin{beamercolorbox}[sep=12pt,center,#1]{part title}
        \vspace*{4cm}
        \begin{flushleft}
            \usebeamerfont{section title} \LARGE \bfseries \insertsection\par
        \end{flushleft}
    \end{beamercolorbox}

}

% Override the default section page with the ome one
\setbeamertemplate{section page}[ome]

% It is also necessary to create a command 'omesectionpage' in order to change the background color
% /omesectionpage should be used in place of \frame{\sectionpage}
\newcommand{\omesectionpage}{
    \setbeamertemplate{background}{
        \tikz[overlay,remember picture] \node[opacity=0.17, at=(current page.north east), xshift=-3cm, yshift=-3cm] {
            \includegraphics[width=\paperwidth]{images/OME_background}
        };
    }
    \begingroup
        \setbeamercolor{background canvas}{bg=omebgblue}
        \frame{\sectionpage}
    \endgroup
}

% Create a command 'glencoesectionpage' in order to change the background color
% /omesectionpage should be used in place of \frame{\sectionpage}
\newcommand{\glencoesectionpage}{
    \setbeamertemplate{background}{
        \tikz[overlay,remember picture] \node[opacity=0.17, at=(current page.north east), xshift=-3cm, yshift=-3cm] {
            \includegraphics[width=\paperwidth]{images/Glencoe_background}
        };
    }
    \begingroup
        \setbeamercolor{background canvas}{bg=omebgblue}
        \frame{\sectionpage}
    \endgroup
}

% Frame with OME Graphic
\newenvironment{omeframe}
{
    \setbeamertemplate{background}{
        \tikz[overlay,remember picture] \node[opacity=0.17, at=(current page.north east), xshift=-3cm, yshift=-3cm] {
            \includegraphics[width=\paperwidth]{images/OME_background}
        };
    }
    \begin{frame}
}
{ \end{frame} }

% Frame with Glencoe Graphic
\newenvironment{glencoeframe}
{
    \setbeamertemplate{background}{
        \tikz[overlay,remember picture] \node[opacity=0.17, at=(current page.north east), xshift=-3cm, yshift=-3cm] {
            \includegraphics[width=\paperwidth]{images/Glencoe_background}
        };
    }
    \begin{frame}
}
{ \end{frame} }


% Title Frame with Microscope Graphic
\newcommand{\ometitleframe}{
    \setbeamertemplate{background}{
        \begin{tikzpicture}[overlay,remember picture]
            \node[scale=0.8, opacity=0.9, at=(current page.center), yshift=-2cm] {
                \includegraphics[width=\paperwidth]{images/scopes_background}
            };
            \node[at=(current page.south west), anchor=south west, yshift=0.5cm] (dundee_logo) {
                \includegraphics[width=1.5cm]{images/dundee_logo}
            };
            \node[align=left, right=of dundee_logo.east, anchor=west, xshift=-1.2cm, font=\tiny, opacity=0.4] {
                Open Microscopy Environment\\
                Centre for Gene Regulation \& Expression\\
                College of Life Sciences, University of Dundee\\
                Dundee, Scotland, UK
            };
            \node[at=(current page.south east), anchor=south east, yshift=0.7cm] (glencoe_logo) {
                \includegraphics[width=3.5cm]{images/glencoe_logo}
            };
            \node[align=right, below=of glencoe_logo.east, anchor=east, xshift=-0.4cm, yshift=0.4cm, font=\tiny, opacity=0.4] {
                Seattle, WA, USA
            };

        \end{tikzpicture}
    }
    \begingroup
        \setbeamercolor{background canvas}{bg=omebgblue}
        \begin{frame}
        \titlepage
        \end{frame}
    \endgroup
}


\mode
<all>
